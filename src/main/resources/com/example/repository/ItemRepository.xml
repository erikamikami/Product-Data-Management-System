<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.repository.ItemRepository">

<select id="countAllItems" resultType="int">
  SELECT count(*) FROM items;
</select>

<select id="findAll" resultType="com.example.entity.Item" parameterType="com.example.pagination.Pagination">
  SELECT id, name, condition, category, brand_name, price, shipping, item_description
  FROM items
  ORDER BY id ASC
  LIMIT #{displaysPerPage} OFFSET #{displaysPerPage}*(#{page}-1)
</select>

<select id="findById" resultType="com.example.entity.Item" parameterType="int">
  SELECT id, name, condition, category, brand_name, price, shipping, item_description
  FROM items
  WHERE id = #{id}
</select>

<select id="findMaxId" resultType="int">
  SELECT max(id) FROM items;
</select>

<insert id="insert" parameterType="com.example.entity.Item">
  INSERT INTO items (id, name, condition, category, brand_name, price, shipping, item_description)
  VALUES (#{id}, #{name}, #{condition}, #{category}, #{brandName}, #{price}, #{shipping}, #{itemDescription})
</insert>

<update id="update" parameterType="com.example.entity.Item">
  UPDATE items SET 
  name = #{name}
  ,condition = #{condition}
  ,category = #{category}
  ,brand_name = #{brand_name}
  ,price = #{price}
  ,shipping = #{shipping}
  ,item_description = #{itemDescription}
  WHERE id = #{id}
</update>

</mapper>
